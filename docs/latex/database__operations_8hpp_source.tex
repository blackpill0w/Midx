\hypertarget{database__operations_8hpp_source}{}\doxysection{database\+\_\+operations.\+hpp}
\label{database__operations_8hpp_source}\index{/home/blackpill0w/Code/c\_c++/Music-\/Indexer/src/database\_operations.hpp@{/home/blackpill0w/Code/c\_c++/Music-\/Indexer/src/database\_operations.hpp}}
\mbox{\hyperlink{database__operations_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <sqlite\_modern\_cpp.h>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8hpp}{./utils.hpp}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceMusicIndexer_1_1DatabaseOperations}{MusicIndexer::DatabaseOperations}}\ \{}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMusicIndexer_1_1DatabaseOperations_1_1MusicData}{MusicData}}\ \{}
\DoxyCodeLine{00014\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ \ \ \mbox{\hyperlink{classMusicIndexer_1_1DatabaseOperations_1_1MusicData_a8d75c29e9d608aa317dad899e91c2229}{MusicData}}(\textcolor{keyword}{const}\ std::vector<MusicDir>\&\ music\_dirs,\ \textcolor{keyword}{const}\ std::vector<Artist>\&\ artists,}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Album>\&\ albums,\ \textcolor{keyword}{const}\ std::vector<Track>\&\ tracks)}
\DoxyCodeLine{00017\ \ \ \ \ \ \ :\ m\_music\_dirs\{music\_dirs\},\ m\_artists\{artists\},\ m\_albums\{albums\},\ m\_tracks\{tracks\}\ \{}
\DoxyCodeLine{00018\ \ \ \}}
\DoxyCodeLine{00019\ \ \ std::vector<MusicDir>\&\ \mbox{\hyperlink{classMusicIndexer_1_1DatabaseOperations_1_1MusicData_a7282d0ce2aa7239f95ddf3a0f3fa042c}{get\_music\_dirs}}()\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_music\_dirs;}
\DoxyCodeLine{00021\ \ \ \}}
\DoxyCodeLine{00022\ \ \ std::vector<Artist>\&\ \mbox{\hyperlink{classMusicIndexer_1_1DatabaseOperations_1_1MusicData_aef5c2775771dbda29d91fe97604d58d8}{get\_artists}}()\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_artists;}
\DoxyCodeLine{00024\ \ \ \}}
\DoxyCodeLine{00025\ \ \ std::vector<Album>\&\ \mbox{\hyperlink{classMusicIndexer_1_1DatabaseOperations_1_1MusicData_a5350f56b391686b7d8c5ed05c29d6977}{get\_albums}}()\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_albums;}
\DoxyCodeLine{00027\ \ \ \}}
\DoxyCodeLine{00028\ \ \ std::vector<Track>\&\ \mbox{\hyperlink{classMusicIndexer_1_1DatabaseOperations_1_1MusicData_a332251b94a36a32690f4c21832b53885}{get\_tracks}}()\ \{}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_tracks;}
\DoxyCodeLine{00030\ \ \ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00033\ \ \ std::vector<MusicDir>\ m\_music\_dirs\{\};}
\DoxyCodeLine{00034\ \ \ std::vector<Artist>\ m\_artists\{\};}
\DoxyCodeLine{00035\ \ \ std::vector<Album>\ m\_albums\{\};}
\DoxyCodeLine{00036\ \ \ std::vector<Track>\ m\_tracks\{\};}
\DoxyCodeLine{00037\ \};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00043\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceMusicIndexer_1_1DatabaseOperations_a2e819069bd69a0d94795b087efa468a4}{init\_database}}(sqlite::database\&\ db);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00050\ std::vector<T>\ \mbox{\hyperlink{namespaceMusicIndexer_1_1DatabaseOperations_a6071f2b08a12396f47cf904f8b719ae0}{get}}(sqlite::database\&\ db)\ \{}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ valid\_type\ =}
\DoxyCodeLine{00052\ \ \ \ \ \ \ std::is\_convertible<T,\ MusicDir>()\ or\ std::is\_convertible<T,\ Artist>()\ or}
\DoxyCodeLine{00053\ \ \ \ \ \ \ std::is\_convertible<T,\ Album>()\ or\ std::is\_convertible<T,\ Track>();}
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{static\_assert}(valid\_type,\ \textcolor{stringliteral}{"{}Invalid\ DataType\ to\ get()\(\backslash\)n"{}});}
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ Compiler\ warnings}}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00057\ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00067\ std::optional<int>\ \mbox{\hyperlink{namespaceMusicIndexer_1_1DatabaseOperations_a5b1ff18deb9eac461606b36cf363dc13}{get\_rowid}}(}
\DoxyCodeLine{00068\ \ \ \ \ sqlite::database\&\ db,\ \textcolor{keyword}{const}\ std::string\&\ str,}
\DoxyCodeLine{00069\ \ \ \ \ [[maybe\_unused]]\ \textcolor{keyword}{const}\ std::optional<int>\ dummy\ =\ std::nullopt)\ \{}
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ valid\_type\ =}
\DoxyCodeLine{00071\ \ \ \ \ \ \ std::is\_convertible<T,\ MusicDir>()\ or\ std::is\_convertible<T,\ Artist>()\ or}
\DoxyCodeLine{00072\ \ \ \ \ \ \ std::is\_convertible<T,\ Album>()\ or\ std::is\_convertible<T,\ Track>();}
\DoxyCodeLine{00073\ \ \ \textcolor{keyword}{static\_assert}(valid\_type,\ \textcolor{stringliteral}{"{}Invalid\ DataType\ to\ get()\(\backslash\)n"{}});}
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Compiler\ warnings}}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{return}\ std::nullopt;}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00084\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00085\ std::optional<int>\ \mbox{\hyperlink{namespaceMusicIndexer_1_1DatabaseOperations_a5e24f4a781071471bef5e48c0aa70f1c}{insert}}(}
\DoxyCodeLine{00086\ \ \ \ \ sqlite::database\&\ db,\ \textcolor{keyword}{const}\ std::string\&\ str,}
\DoxyCodeLine{00087\ \ \ \ \ [[maybe\_unused]]\ \textcolor{keyword}{const}\ std::optional<int>\ dummy\ =\ std::nullopt)\ \{}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ valid\_type\ =}
\DoxyCodeLine{00089\ \ \ \ \ \ \ std::is\_convertible<T,\ MusicDir>()\ or\ std::is\_convertible<T,\ Artist>()\ or}
\DoxyCodeLine{00090\ \ \ \ \ \ \ std::is\_convertible<T,\ Album>()\ or\ std::is\_convertible<T,\ Track>();}
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{static\_assert}(valid\_type,\ \textcolor{stringliteral}{"{}Invalid\ DataType\ to\ get()\(\backslash\)n"{}});}
\DoxyCodeLine{00092\ \ \ \textcolor{comment}{//\ Compiler\ warnings}}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ std::nullopt;}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \}\ \ \textcolor{comment}{//\ namespace\ MusicIndexer::DatabaseOperations}}

\end{DoxyCode}
